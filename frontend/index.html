<!DOCTYPE html>
<html lang="el">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Auto payroll app</title>
    <link rel="stylesheet" href="./src/style.css">
  </head>
  <body>
    
    <!--Navbar-->
   <nav class="navbar animate-enter">
  <div class="logo">Payroll Manager</div>
  <div class="nav-links">
    <button id="nav-home" class="active hover-lift click-shrink">Καταχώρηση</button>
    <button id="nav-employees" class="hover-lift click-shrink">Εργαζόμενοι</button>
    <button id="nav-boats" class="hover-lift click-shrink">Σκάφοι</button>
    <button id="nav-expenses" class="hover-lift click-shrink">Έξοδα</button>
    <button id="nav-payments" class="hover-lift click-shrink">Πληρωμές</button>
  </div>
</nav>


    <!--Home page-->
    <main id="app">
      <div id="page-home" class="animate-enter">
        <h1>Ημερήσια Καταχώρηση</h1>
        
        <!--Calendar-->
        <div class="date-selector" style="display: flex; align-items: center; gap: 1rem;">
          <label for="date-picker" style="margin: 0; font-weight: bold;">Ημερομηνία:</label>
          <input type="date" id="date-picker" style="padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">

          <button type="button" id="btn-edit-daily" class="btn-submit hidden" style="padding: 0.5rem 1rem;  margin-left: auto;">
          Επεξεργασία
          </button>
        </div>

        <!--Daily form to fill about workers-->
        <form id="attendance-form">
          <table class ="attendance-table">
            <thead>
              <tr>
                <th>Εργαζόμενος</th>
                <th>Παρουσία</th>
                <th>Σκάφος</th>
                <th>Υπερωρία</th>
              </tr>
            </thead>
            <tbody id="attendance-list">
              </tbody>
          </table>

          <button type="submit" id="btn-submit-daily" class="btn-submit hover-lift click-shrink">Αποθήκευση</button>
        </form>
      </div>

      <!--Page No.2 In this page the user can manage his workers-->
      <div id="page-employees" class="animate-enter hidden">
        <h1>Διαχείρηση εργαζομένων</h1>
        <div style="margin-bottom: 2rem; text-align: right;">
          <button id="btn-add-employee" style="margin-bottom: 5px;" class="btn-submit hover-lift click-shrink">
            Προσθήκη εργαζόμενου
          </button>
        </div>
        <table class="attendance-table">
          <thead>
            <tr>
              <th>Όνομα</th>
              <th>Ημερομίσθιο</th>
              <th>Υπερωρία</th>
              <th>Τράπεζα/μέρα</th>
              <th>Ενέργειες</th>
            </tr>
          </thead>
          <tbody id="employees-list">

            </tbody>
        </table>
      </div>

<!--Page No.3 In this page we keep a track of the active boats and an analysis of the workers expenses on each boat-->
      <div id="page-boats" class="animate-enter hidden">
        <h1>Διαχείριση Σκαφών</h1>
        
        <div style="margin-bottom: 2rem; text-align: right;">
          <button id="btn-add-boat" class="btn-submit hover-lift click-shrink">
            Προσθήκη Σκάφους
          </button>
        </div>

        <table class="attendance-table">
          <thead>
            <tr>
              <th>Όνομα Σκάφους</th>
              <th>Ενέργειες</th>
            </tr>
          </thead>
          <tbody id="boats-list">
             </tbody>
        </table>
      </div>

      <!--Page No.4 History of expenses for workers and boats-->
      <div id="page-expenses" class="animate-enter hidden">
        <h1>Υπολογισμός Εξόδων</h1>

        <div class="filters-container" style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); margin-bottom: 2rem;">
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: flex-end;">
                
                <div style="flex: 1; min-width: 150px;">
                    <label style="font-weight: bold; font-size: 0.9rem;">Από:</label>
                    <input type="date" id="exp-start" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div style="flex: 1; min-width: 150px;">
                    <label style="font-weight: bold; font-size: 0.9rem;">Έως:</label>
                    <input type="date" id="exp-end" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>

                <div style="flex: 1; min-width: 150px;">
                    <label style="font-weight: bold; font-size: 0.9rem;">Σκάφος:</label>
                    <select id="exp-boat" style="width: 100%; padding: 0.6rem; border: 1px solid #ddd; border-radius: 4px;">
                        <option value="">-- Όλα τα σκάφη --</option>
                    </select>
                </div>

                <div style="flex: 1; min-width: 150px;">
                    <label style="font-weight: bold; font-size: 0.9rem;">Εργαζόμενος:</label>
                    <select id="exp-emp" style="width: 100%; padding: 0.6rem; border: 1px solid #ddd; border-radius: 4px;">
                        <option value="">-- Όλοι οι εργαζόμενοι --</option>
                    </select>
                </div>

                <button id="btn-calc-expenses" class="btn-submit hover-lift click-shrink" style="margin: 0; height: 42px;">
                    Υπολογισμός
                </button>
            </div>
        </div>

        <div id="expenses-summary" class="hidden" style="text-align: right; margin-bottom: 1rem;">
            <span style="font-size: 1.2rem; font-weight: bold;">Γενικό Σύνολο: </span>
            <span id="exp-total-amount" style="font-size: 1.5rem; color: var(--primary-color); font-weight: 800;">0.00 €</span>
        </div>

        <table class="attendance-table">
          <thead>
            <tr>
              <th>Ημερομηνία</th>
              <th>Εργαζόμενος</th>
              <th>Σκάφος</th>
              <th>Μισθός</th>
              <th>Υπερωρία</th>
              <th>Σύνολο</th>
            </tr>
          </thead>
          <tbody id="expenses-list"></tbody>
        </table>
      </div>

      <!--Page No.5 Payroll Page-->
      <div id="page-payments" class="animate-enter hidden">
        <h1>Μισθοδοσία & Πληρωμές</h1>

        <div class="filters-container" style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); margin-bottom: 2rem;">
            <div style="display: flex; gap: 1rem; align-items: flex-end;">
                <div style="flex: 1;">
                    <label style="font-weight: bold; font-size: 0.9rem;">Από:</label>
                    <input type="date" id="pay-start" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div style="flex: 1;">
                    <label style="font-weight: bold; font-size: 0.9rem;">Έως:</label>
                    <input type="date" id="pay-end" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <button id="btn-calc-payroll" class="btn-submit hover-lift click-shrink" style="margin: 0; height: 42px;">
                    Υπολογισμός Μισθοδοσίας
                </button>
            </div>
        </div>

        <div id="payroll-actions" class="hidden" style="text-align: right; margin-bottom: 1rem;">
             <button id="btn-print-payroll" class="btn-submit" style="background-color: #059669;">
                🖨️ Εκτύπωση PDF
            </button>
        </div>

        <table class="attendance-table">
          <thead>
            <tr>
              <th>Εργαζόμενος</th>
              <th>Ημέρες</th>
              <th>Μισθός</th>
              <th>Υπερωρία</th>
              <th>Γενικό Σύνολο</th>
              <th style="background-color: #dbeafe;">Τράπεζα</th>
              <th style="background-color: #fef3c7;">Μετρητά</th>
            </tr>
          </thead>
          <tbody id="payroll-list"></tbody>
        </table>
      </div>

      <!--Form for adding a new employee-->
      <div id="modal-employee" class="modal-overlay hidden">
        <div class="modal-content animate-enter">
          <h2 id="modal-title">Νέος εργαζόμενος</h2>
          <form id="employee-form">
            <input type="hidden" id="emp-id"> 
            <div class="form-group">
              <label>Ονοματεπώνυμο:</label>
              <input type="text" id="emp-name" required>
            </div>

            <div class="form-group">
              <label>Ημερομίσθιο:</label>
              <input type="number" id="emp-wage" required step="0.01">
            </div>

            <div class="form-group">
              <label>Υπερωρία:</label>
              <input type="number" id="emp-overtime" required step="0.01">
            </div>

            <div class="form-group">
              <label>Τράπεζα(Ημερίσιο ποσό):</label>
              <input type="number" id="emp-bank" required step="0.01">
            </div>

            <div class="modal-actions">
              <button type="submit" class="btn-submit hover-lift">Αποθήκευση</button>
              <button type="button" id="btn-cancel" class="btn-cancel">Ακύρωση</button>
            </div>
          </form>

        </div>
      </div>

      <!--Form for adding a new boat-->

      <div id="modal-boat" class="modal-overlay hidden">
        <div class="modal-content animate-enter">
          <h2 id="modal-boat-title">Νέο Σκάφος</h2>
          
          <form id="boat-form">
            <input type="hidden" id="boat-id"> 

            <div class="form-group">
              <label>Όνομα Σκάφους:</label>
              <input type="text" id="boat-name" required >
            </div>

            <div class="modal-actions">
                <button type="submit" class="btn-submit hover-lift">Αποθήκευση</button>
                <button type="button" id="btn-cancel-boat" class="btn-cancel hover-lift">Ακύρωση</button>
            </div>
          </form>
        </div>
      </div>

      <!--Modal for cost analysis and history about boats-->
      <div id="modal-boat-analysis" class="modal-overlay hidden">
        <div class="modal-content animate-enter" style="max-width: 600px;"> <h2 id="analysis-title">Ανάλυση Κόστους</h2>
          
          <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; align-items: flex-end;">
            <div style="flex: 1;">
              <label style="font-weight: bold; font-size: 0.9rem;">Από:</label>
              <input type="date" id="analysis-start" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div style="flex: 1;">
              <label style="font-weight: bold; font-size: 0.9rem;">Έως:</label>
              <input type="date" id="analysis-end" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <button id="btn-run-analysis" class="btn-submit hover-lift click-shrink" style="margin: 0; height: 38px;">Προβολή</button>
          </div>

          <div id="analysis-results" class="hidden">
            <div style="background: #f9fafb; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
              <h3 style="margin: 0 0 0.5rem 0; font-size: 1.1rem;">Σύνολο Κόστους: <span id="total-cost" style="color: var(--primary-color);">0.00 €</span></h3>
              <p style="margin: 0; color: #6b7280; font-size: 0.9rem;">(Μεροκάματα + Υπερωρίες)</p>
            </div>

            <table class="attendance-table" style="font-size: 0.9rem;">
              <thead>
                <tr>
                  <th>Ημερομηνία</th>
                  <th>Εργαζόμενος</th>
                  <th>Κόστος</th>
                </tr>
              </thead>
              <tbody id="analysis-list">
                </tbody>
            </table>
          </div>

          <div class="modal-actions">
            <button type="button" id="btn-close-analysis" class="btn-cancel hover-lift">Κλείσιμο</button>
          </div>
        </div>
      </div>
    </main>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>